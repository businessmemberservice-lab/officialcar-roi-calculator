<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¬å‹™è»Šæˆæœ¬ vs æœƒå“¡ä¹˜è»Šæœå‹™ æŠ•è³‡åˆ†æ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #c62828 0%, #d32f2f 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        .input-section {
            background: #fff3e0;
            border-radius: 15px;
            padding: 25px;
            border: 3px solid #ff9800;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: #e65100;
            text-align: center;
            text-transform: uppercase;
        }

        .input-group {
            margin-bottom: 18px;
        }

        .input-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #424242;
            font-size: 0.95rem;
        }

        .input-row {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-row input {
            flex: 1;
            padding: 10px;
            border: 2px solid #ff9800;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            background: white;
        }

        .input-row .unit {
            font-weight: bold;
            color: #666;
            min-width: 80px;
            font-size: 0.9rem;
        }

        .comparison-section {
            background: #e8f5e8;
            border-radius: 15px;
            padding: 25px;
            border: 3px solid #4caf50;
        }

        .comparison-section .section-title {
            color: #2e7d32;
        }

        .cost-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .cost-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .cost-card h3 {
            font-size: 1.1rem;
            margin-bottom: 15px;
            color: #424242;
        }

        .cost-card .amount {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .company-car .amount {
            color: #d32f2f;
        }

        .service-cost .amount {
            color: #2e7d32;
        }

        .savings-highlight {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-top: 20px;
        }

        .savings-highlight h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
        }

        .savings-highlight .value {
            font-size: 2.5rem;
            font-weight: bold;
        }

        .detailed-breakdown {
            grid-column: 1 / -1;
            background: #f5f5f5;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
        }

        .breakdown-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }

        .breakdown-table th {
            background: #37474f;
            color: white;
            padding: 15px;
            text-align: left;
        }

        .breakdown-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }

        .breakdown-table tr:hover {
            background: #f8f9fa;
        }

        .company-car-cost { color: #d32f2f; font-weight: bold; }
        .service-cost { color: #2e7d32; font-weight: bold; }
        .savings { color: #1976d2; font-weight: bold; }

        .roi-analysis {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, #1976d2 0%, #1e88e5 100%);
            color: white;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
        }

        .roi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .roi-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .roi-card h4 {
            font-size: 0.9rem;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .roi-card .value {
            font-size: 2rem;
            font-weight: bold;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: transform 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-primary {
            background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%);
            color: white;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .cost-comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš— å…¬å‹™è»Š vs æœƒå“¡ä¹˜è»Šæœå‹™</h1>
            <p>å…¨é¢æˆæœ¬åˆ†æ | å°ˆç‚ºæœ‰å…¬å‹™è»Šä¼æ¥­è¨­è¨ˆ</p>
        </div>

        <div class="main-content">
            <!-- å…¬å‹™è»Šæˆæœ¬è¼¸å…¥ -->
            <div class="input-section">
                <div class="section-title">ğŸš™ å…¬å‹™è»Šå¹´åº¦æˆæœ¬</div>
                
                <div class="input-group">
                    <label>å…¬å‹™è»Šæ•¸é‡</label>
                    <div class="input-row">
                        <input type="number" id="carCount" value="2" min="1">
                        <span class="unit">å°</span>
                    </div>
                </div>

                <div class="input-group">
                    <label>è»Šè¼›æŠ˜èˆŠè²»ç”¨</label>
                    <div class="input-row">
                        <input type="number" id="depreciation" value="200000" min="0">
                        <span class="unit">å…ƒ/å°/å¹´</span>
                    </div>
                </div>

                <div class="input-group">
                    <label>æ²¹æ–™è²»ç”¨</label>
                    <div class="input-row">
                        <input type="number" id="fuelCost" value="120000" min="0">
                        <span class="unit">å…ƒ/å°/å¹´</span>
                    </div>
                </div>

                <div class="input-group">
                    <label>ä¿éšªè²»ç”¨</label>
                    <div class="input-row">
                        <input type="number" id="insurance" value="25000" min="0">
                        <span class="unit">å…ƒ/å°/å¹´</span>
                    </div>
                </div>

                <div class="input-group">
                    <label>ç¶­ä¿®ä¿é¤Šè²»</label>
                    <div class="input-row">
                        <input type="number" id="maintenance" value="40000" min="0">
                        <span class="unit">å…ƒ/å°/å¹´</span>
                    </div>
                </div>

                <div class="input-group">
                    <label>åœè»Šè²»ç”¨</label>
                    <div class="input-row">
                        <input type="number" id="parking" value="36000" min="0">
                        <span class="unit">å…ƒ/å°/å¹´</span>
                    </div>
                </div>

                <div class="input-group">
                    <label>å¸æ©Ÿè–ªè³‡</label>
                    <div class="input-row">
                        <input type="number" id="driverSalary" value="480000" min="0">
                        <span class="unit">å…ƒ/äºº/å¹´</span>
                    </div>
                </div>

                <div class="input-group">
                    <label>éœ€è¦å¸æ©Ÿäººæ•¸</label>
                    <div class="input-row">
                        <input type="number" id="driverCount" value="1" min="0">
                        <span class="unit">äºº</span>
                    </div>
                </div>
            </div>

            <!-- æœƒå“¡æœå‹™æˆæœ¬ -->
            <div class="comparison-section">
                <div class="section-title">ğŸ¯ æœƒå“¡ä¹˜è»Šæœå‹™</div>
                
                <div class="input-group">
                    <label>é ä¼°æœˆå·®æ—…æ¬¡æ•¸</label>
                    <div class="input-row">
                        <input type="number" id="monthlyTrips" value="80" min="1">
                        <span class="unit">æ¬¡</span>
                    </div>
                </div>

                <div class="input-group">
                    <label>å¹³å‡æ¯è¶Ÿè»Šè³‡</label>
                    <div class="input-row">
                        <input type="number" id="avgTripCost" value="350" min="1">
                        <span class="unit">å…ƒ</span>
                    </div>
                </div>

                <div class="input-group">
                    <label>æœå‹™å¹´è²»</label>
                    <div class="input-row">
                        <input type="number" id="serviceFee" value="50000" min="0">
                        <span class="unit">å…ƒ/å¹´</span>
                    </div>
                </div>

                <div class="cost-comparison">
                    <div class="cost-card company-car">
                        <h3>å…¬å‹™è»Šå¹´åº¦ç¸½æˆæœ¬</h3>
                        <div class="amount" id="totalCarCost">$901,000</div>
                        <small>åŒ…å«æ‰€æœ‰å›ºå®šèˆ‡è®Šå‹•æˆæœ¬</small>
                    </div>
                    <div class="cost-card service-cost">
                        <h3>æœƒå“¡æœå‹™å¹´åº¦ç¸½æˆæœ¬</h3>
                        <div class="amount" id="totalServiceCost">$386,000</div>
                        <small>è»Šè³‡ + å¹´è²»</small>
                    </div>
                </div>

                <div class="savings-highlight">
                    <h3>æ¯å¹´å¯ç¯€çœ</h3>
                    <div class="value" id="annualSavings">$515,000</div>
                    <p>ç¯€çœæ¯”ä¾‹: <span id="savingsPercentage">57%</span></p>
                </div>
            </div>
        </div>

        <!-- è©³ç´°æˆæœ¬æ‹†è§£ -->
        <div class="detailed-breakdown">
            <h3 style="text-align: center; margin-bottom: 20px; color: #37474f;">ğŸ’° è©³ç´°æˆæœ¬æ¯”è¼ƒåˆ†æ</h3>
            <table class="breakdown-table">
                <thead>
                    <tr>
                        <th>æˆæœ¬é …ç›®</th>
                        <th>å…¬å‹™è»Šæˆæœ¬</th>
                        <th>æœƒå“¡æœå‹™</th>
                        <th>å·®é¡ç¯€çœ</th>
                        <th>èªªæ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>è»Šè¼›æŠ˜èˆŠ</td>
                        <td class="company-car-cost" id="depreciationTotal">$400,000</td>
                        <td class="service-cost">$0</td>
                        <td class="savings" id="depreciationSaving">$400,000</td>
                        <td>ç„¡éœ€è³¼è»ŠæŠ•è³‡</td>
                    </tr>
                    <tr>
                        <td>æ²¹æ–™è²»ç”¨</td>
                        <td class="company-car-cost" id="fuelTotal">$240,000</td>
                        <td class="service-cost">åŒ…å«åœ¨è»Šè³‡å…§</td>
                        <td class="savings" id="fuelSaving">$240,000</td>
                        <td>éš¨å«éš¨ç”¨ï¼Œç„¡ç©ºè»Šæˆæœ¬</td>
                    </tr>
                    <tr>
                        <td>ä¿éšªè²»ç”¨</td>
                        <td class="company-car-cost" id="insuranceTotal">$50,000</td>
                        <td class="service-cost">$0</td>
                        <td class="savings" id="insuranceSaving">$50,000</td>
                        <td>ç„¡ä¿éšªé¢¨éšª</td>
                    </tr>
                    <tr>
                        <td>ç¶­ä¿®ä¿é¤Š</td>
                        <td class="company-car-cost" id="maintenanceTotal">$80,000</td>
                        <td class="service-cost">$0</td>
                        <td class="savings" id="maintenanceSaving">$80,000</td>
                        <td>ç„¡ç¶­ä¿®å›°æ“¾</td>
                    </tr>
                    <tr>
                        <td>åœè»Šè²»ç”¨</td>
                        <td class="company-car-cost" id="parkingTotal">$72,000</td>
                        <td class="service-cost">$0</td>
                        <td class="savings" id="parkingSaving">$72,000</td>
                        <td>ç„¡åœè»Šå•é¡Œ</td>
                    </tr>
                    <tr>
                        <td>äººåŠ›æˆæœ¬</td>
                        <td class="company-car-cost" id="driverTotal">$480,000</td>
                        <td class="service-cost">$0</td>
                        <td class="savings" id="driverSaving">$480,000</td>
                        <td>å°ˆæ¥­å¸æ©Ÿæœå‹™</td>
                    </tr>
                    <tr>
                        <td>å¯¦éš›æ­ä¹˜è²»ç”¨</td>
                        <td class="company-car-cost">åŒ…å«åœ¨ä¸Šè¿°</td>
                        <td class="service-cost" id="actualTripCost">$336,000</td>
                        <td class="savings negative">($336,000)</td>
                        <td>æŒ‰å¯¦éš›ä½¿ç”¨ä»˜è²»</td>
                    </tr>
                    <tr>
                        <td>æœå‹™å¹´è²»</td>
                        <td class="company-car-cost">$0</td>
                        <td class="service-cost" id="feeTotal">$50,000</td>
                        <td class="savings negative">($50,000)</td>
                        <td>ç®¡ç†å¹³å°è²»ç”¨</td>
                    </tr>
                    <tr style="background: #e8f5e8; font-weight: bold;">
                        <td><strong>ç¸½è¨ˆ</strong></td>
                        <td class="company-car-cost" id="grandTotalCar">$1,322,000</td>
                        <td class="service-cost" id="grandTotalService">$386,000</td>
                        <td class="savings" id="grandTotalSaving">$936,000</td>
                        <td><strong>å¹´åº¦ç¯€çœ</strong></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ROI åˆ†æ -->
        <div class="roi-analysis">
            <h3 style="text-align: center; margin-bottom: 10px;">ğŸ“Š æŠ•è³‡å ±é…¬åˆ†æ</h3>
            <div class="roi-grid">
                <div class="roi-card">
                    <h4>å¹´åº¦ROI</h4>
                    <div class="value" id="roiPercentage">265%</div>
                </div>
                <div class="roi-card">
                    <h4>æŠ•è³‡å›æ”¶æœŸ</h4>
                    <div class="value" id="paybackPeriod">1.4</div>
                    <small>å€‹æœˆ</small>
                </div>
                <div class="roi-card">
                    <h4>æˆæœ¬ç¯€çœæ¯”ä¾‹</h4>
                    <div class="value" id="costReduction">71%</div>
                </div>
                <div class="roi-card">
                    <h4>3å¹´ç´¯ç©ç¯€çœ</h4>
                    <div class="value" id="threeyearSaving">$281è¬</div>
                </div>
            </div>
        </div>

        <div style="text-align: center; padding: 20px;">
            <button class="btn btn-primary" onclick="recalculate()">ğŸ”„ é‡æ–°è¨ˆç®—</button>
            <button class="btn btn-primary" onclick="generateReport()">ğŸ“Š ç”Ÿæˆå ±å‘Š</button>
        </div>
    </div>

    <script>
        const inputs = ['carCount', 'depreciation', 'fuelCost', 'insurance', 'maintenance', 
                       'parking', 'driverSalary', 'driverCount', 'monthlyTrips', 'avgTripCost', 'serviceFee'];
        
        inputs.forEach(id => {
            document.getElementById(id).addEventListener('input', calculateComparison);
        });

        function formatCurrency(num) {
            return new Intl.NumberFormat('zh-TW', {
                style: 'currency',
                currency: 'TWD',
                minimumFractionDigits: 0
            }).format(num).replace('NT$', '$');
        }

        function calculateComparison() {
            // å–å¾—è¼¸å…¥å€¼
            const carCount = parseFloat(document.getElementById('carCount').value) || 0;
            const depreciation = parseFloat(document.getElementById('depreciation').value) || 0;
            const fuelCost = parseFloat(document.getElementById('fuelCost').value) || 0;
            const insurance = parseFloat(document.getElementById('insurance').value) || 0;
            const maintenance = parseFloat(document.getElementById('maintenance').value) || 0;
            const parking = parseFloat(document.getElementById('parking').value) || 0;
            const driverSalary = parseFloat(document.getElementById('driverSalary').value) || 0;
            const driverCount = parseFloat(document.getElementById('driverCount').value) || 0;
            const monthlyTrips = parseFloat(document.getElementById('monthlyTrips').value) || 0;
            const avgTripCost = parseFloat(document.getElementById('avgTripCost').value) || 0;
            const serviceFee = parseFloat(document.getElementById('serviceFee').value) || 0;

            // è¨ˆç®—å…¬å‹™è»Šç¸½æˆæœ¬
            const totalDepreciation = depreciation * carCount;
            const totalFuel = fuelCost * carCount;
            const totalInsurance = insurance * carCount;
            const totalMaintenance = maintenance * carCount;
            const totalParking = parking * carCount;
            const totalDriverCost = driverSalary * driverCount;
            
            const totalCarCost = totalDepreciation + totalFuel + totalInsurance + 
                               totalMaintenance + totalParking + totalDriverCost;

            // è¨ˆç®—æœƒå“¡æœå‹™æˆæœ¬
            const annualTripCost = monthlyTrips * avgTripCost * 12;
            const totalServiceCost = annualTripCost + serviceFee;

            // è¨ˆç®—ç¯€çœ
            const annualSavings = totalCarCost - totalServiceCost;
            const savingsPercentage = totalCarCost > 0 ? (annualSavings / totalCarCost * 100) : 0;
            
            // ROI è¨ˆç®—
            const roi = totalServiceCost > 0 ? (annualSavings / totalServiceCost * 100) : 0;
            const paybackMonths = annualSavings > 0 ? (totalServiceCost / (annualSavings / 12)) : 0;
            const costReduction = totalCarCost > 0 ? (annualSavings / totalCarCost * 100) : 0;
            const threeYearSaving = annualSavings * 3;

            // æ›´æ–°é¡¯ç¤º
            document.getElementById('totalCarCost').textContent = formatCurrency(totalCarCost);
            document.getElementById('totalServiceCost').textContent = formatCurrency(totalServiceCost);
            document.getElementById('annualSavings').textContent = formatCurrency(annualSavings);
            document.getElementById('savingsPercentage').textContent = savingsPercentage.toFixed(0) + '%';

            // æ›´æ–°è©³ç´°è¡¨æ ¼
            document.getElementById('depreciationTotal').textContent = formatCurrency(totalDepreciation);
            document.getElementById('fuelTotal').textContent = formatCurrency(totalFuel);
            document.getElementById('insuranceTotal').textContent = formatCurrency(totalInsurance);
            document.getElementById('maintenanceTotal').textContent = formatCurrency(totalMaintenance);
            document.getElementById('parkingTotal').textContent = formatCurrency(totalParking);
            document.getElementById('driverTotal').textContent = formatCurrency(totalDriverCost);
            document.getElementById('actualTripCost').textContent = formatCurrency(annualTripCost);
            document.getElementById('feeTotal').textContent = formatCurrency(serviceFee);
            document.getElementById('grandTotalCar').textContent = formatCurrency(totalCarCost);
            document.getElementById('grandTotalService').textContent = formatCurrency(totalServiceCost);
            document.getElementById('grandTotalSaving').textContent = formatCurrency(annualSavings);

            // æ›´æ–°ç¯€çœé‡‘é¡
            document.getElementById('depreciationSaving').textContent = formatCurrency(totalDepreciation);
            document.getElementById('fuelSaving').textContent = formatCurrency(totalFuel);
            document.getElementById('insuranceSaving').textContent = formatCurrency(totalInsurance);
            document.getElementById('maintenanceSaving').textContent = formatCurrency(totalMaintenance);
            document.getElementById('parkingSaving').textContent = formatCurrency(totalParking);
            document.getElementById('driverSaving').textContent = formatCurrency(totalDriverCost);

            // æ›´æ–° ROI æŒ‡æ¨™
            document.getElementById('roiPercentage').textContent = roi.toFixed(0) + '%';
            document.getElementById('paybackPeriod').textContent = paybackMonths.toFixed(1);
            document.getElementById('costReduction').textContent = costReduction.toFixed(0) + '%';
            document.getElementById('threeyearSaving').textContent = formatCurrency(threeYearSaving / 10000) + 'è¬';
        }

        function recalculate() {
            calculateComparison();
            alert('è¨ˆç®—å®Œæˆï¼å…¬å‹™è»Š vs æœƒå“¡æœå‹™æˆæœ¬åˆ†æå·²æ›´æ–°');
        }

        function generateReport() {
            const savings = document.getElementById('annualSavings').textContent;
            const roi = document.getElementById('roiPercentage').textContent;
            const payback = document.getElementById('paybackPeriod').textContent;
            
            const report = `
ğŸš— å…¬å‹™è»Š vs æœƒå“¡ä¹˜è»Šæœå‹™ åˆ†æå ±å‘Š
=====================================
â€¢ å¹´åº¦ç¯€çœé‡‘é¡ï¼š${savings}
â€¢ æŠ•è³‡å ±é…¬ç‡ï¼š${roi}
â€¢ å›æ”¶æœŸï¼š${payback} å€‹æœˆ
â€¢ å»ºè­°ï¼šå¼·çƒˆå»ºè­°æ”¹ç”¨æœƒå“¡ä¹˜è»Šæœå‹™ï¼

ä¸»è¦å„ªå‹¢ï¼š
âœ… å¤§å¹…é™ä½å›ºå®šæˆæœ¬
âœ… ç„¡è»Šè¼›ç®¡ç†å›°æ“¾  
âœ… æŒ‰éœ€ä½¿ç”¨ï¼Œå½ˆæ€§èª¿æ•´
âœ… å°ˆæ¥­å¸æ©Ÿæœå‹™
âœ… ç„¡ä¿éšªç¶­ä¿®é¢¨éšª
            `;
            
            alert(report);
        }

        // åˆå§‹åŒ–è¨ˆç®—
        calculateComparison();
    </script>
</body>
</html>